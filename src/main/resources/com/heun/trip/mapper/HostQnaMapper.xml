<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.heun.trip.dao.HostqnaDao">
  
  <resultMap type="hostqna" id="hostqnaMap">
    <id column="hst_qna_id" property="no"/>
    <result column="usr_id" property="userNo"/>
    <result column="rms_id" property="roomNo"/>
    <result column="cdt" property="createdDate"/>
    <result column="conts" property="content"/>
    
  <!--   
  <association property="user" javaType="user"> 
    <id column="usr_id"        property="no"/>
    <result column="email"  property="email"/>
    <result column="name"          property="name"/>
    <result column="tel"          property="tel"/>
  </association> -->
  
  </resultMap>
  
  <select id="findAll" resultMap="hostqnaMap" parameterType="map">
    select
      rms_id,
      conts,
      cdt
      from hst_qna
    order by 
      hst_qna_id desc
    <!-- <if test="size != null and rowNo != null">
      limit #{rowNo}, #{size}
    </if> -->
  </select>
  
   <select id="findByNo" resultMap="hostqnaMap" parameterType="int">
    select * 
    from qna
    where 
      rms_id = #{value}
  </select>
  
  <update id="increaseCount" parameterType="int">
    update qna 
    set 
      vw_cnt = vw_cnt + 1 
    where qna_id = #{value}
  </update>
  
  
  <delete id="delete" parameterType="int">
    delete from qna 
    where qna_id = #{no}
  </delete>
  
  <insert id="insert" parameterType="hostqna">
    insert into qna(
      title,
      content,
      qna_cate_id) 
    values(
      #{title}, 
      #{content}, 
      #{categoryNo})
  </insert>
  
  
  
  <update id="update" parameterType="hostqna">
    update qna 
    set 
      title = #{title}
      content = #{content} 
      qna_cate_id = #{categoryNo}
    where board_id = #{no}
  </update>
  
  <!-- 
  <select id="countAll" resultType="int">
    select count(*) from lms_board
  </select> -->
   
  
</mapper>










